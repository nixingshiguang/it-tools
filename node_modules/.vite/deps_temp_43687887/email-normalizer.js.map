{
  "version": 3,
  "sources": ["../../.pnpm/email-normalizer@1.0.0/node_modules/email-normalizer/dist/index.mjs"],
  "sourcesContent": ["const domainsConfig = {\n  \"gmail.com\": {\n    removeDots: true,\n    stripPlus: true\n  },\n  \"googlemail.com\": {\n    removeDots: true,\n    stripPlus: true,\n    renameDomain: \"gmail.com\"\n  },\n  \"hotmail.com\": {\n    removeDots: false,\n    stripPlus: true\n  },\n  \"live.com\": {\n    removeDots: true,\n    stripPlus: true\n  },\n  \"outlook.com\": {\n    removeDots: false,\n    stripPlus: true\n  }\n};\nfunction normalizeEmail({ email: rawEmail }) {\n  if (!isValidEmail({ email: rawEmail })) {\n    throw new Error(\"Invalid email\");\n  }\n  const normalizedEmail = rawEmail.trim().toLowerCase();\n  const [identifier, domain] = normalizedEmail.split(\"@\");\n  const domainConfig = domainsConfig[domain];\n  if (!domainConfig) {\n    return normalizedEmail;\n  }\n  const { removeDots, stripPlus, renameDomain } = domainConfig;\n  const { normalizedIdentifier } = normalizeIdentifier({ identifier, removeDots, stripPlus });\n  const normalizedDomain = renameDomain ?? domain;\n  return `${normalizedIdentifier}@${normalizedDomain}`;\n}\nfunction normalizeIdentifier({ identifier, removeDots, stripPlus }) {\n  let normalizedIdentifier = identifier;\n  if (removeDots) {\n    normalizedIdentifier = normalizedIdentifier.replace(/\\./g, \"\");\n  }\n  if (stripPlus) {\n    normalizedIdentifier = normalizedIdentifier.split(\"+\")[0];\n  }\n  return { normalizedIdentifier };\n}\nfunction isValidEmail({ email }) {\n  if (typeof email !== \"string\") {\n    return false;\n  }\n  return email.trim().match(/^[\\w.%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/i) !== null;\n}\n\nexport { normalizeEmail };\n"],
  "mappings": ";;;AAAA,IAAM,gBAAgB;AAAA,EACpB,aAAa;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AAAA,EACA,kBAAkB;AAAA,IAChB,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,cAAc;AAAA,EAChB;AAAA,EACA,eAAe;AAAA,IACb,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AAAA,EACA,YAAY;AAAA,IACV,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AAAA,EACA,eAAe;AAAA,IACb,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AACF;AACA,SAAS,eAAe,EAAE,OAAO,SAAS,GAAG;AAC3C,MAAI,CAAC,aAAa,EAAE,OAAO,SAAS,CAAC,GAAG;AACtC,UAAM,IAAI,MAAM,eAAe;AAAA,EACjC;AACA,QAAM,kBAAkB,SAAS,KAAK,EAAE,YAAY;AACpD,QAAM,CAAC,YAAY,MAAM,IAAI,gBAAgB,MAAM,GAAG;AACtD,QAAM,eAAe,cAAc,MAAM;AACzC,MAAI,CAAC,cAAc;AACjB,WAAO;AAAA,EACT;AACA,QAAM,EAAE,YAAY,WAAW,aAAa,IAAI;AAChD,QAAM,EAAE,qBAAqB,IAAI,oBAAoB,EAAE,YAAY,YAAY,UAAU,CAAC;AAC1F,QAAM,mBAAmB,gBAAgB;AACzC,SAAO,GAAG,oBAAoB,IAAI,gBAAgB;AACpD;AACA,SAAS,oBAAoB,EAAE,YAAY,YAAY,UAAU,GAAG;AAClE,MAAI,uBAAuB;AAC3B,MAAI,YAAY;AACd,2BAAuB,qBAAqB,QAAQ,OAAO,EAAE;AAAA,EAC/D;AACA,MAAI,WAAW;AACb,2BAAuB,qBAAqB,MAAM,GAAG,EAAE,CAAC;AAAA,EAC1D;AACA,SAAO,EAAE,qBAAqB;AAChC;AACA,SAAS,aAAa,EAAE,MAAM,GAAG;AAC/B,MAAI,OAAO,UAAU,UAAU;AAC7B,WAAO;AAAA,EACT;AACA,SAAO,MAAM,KAAK,EAAE,MAAM,qCAAqC,MAAM;AACvE;",
  "names": []
}
